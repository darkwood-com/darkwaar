<header class="navbar navbar-top navbar-expand flex-row">
    <!-- Logo/Brand -->
    <a class="navbar-brand mr-0 mr-md-2" href="{{ path('app_shop_home') }}" aria-label="Darkwaar">
        <img src="{{ asset('images/logo.svg') }}" width="36" height="36" class="d-block" alt="Darkwaar" />
    </a>

    <!-- Desktop Navigation -->
    <div class="navbar-nav-scroll d-none d-md-flex">
        <ul class="navbar-nav bd-navbar-nav flex-row">
            {#<li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') == 'app_shop_flows' ? ' active' : '' }}" href="{{ path('app_shop_flows') }}">
                    Games
                </a>
            </li>
            {% if app.user and is_granted('ROLE_USER') %}
            <li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') == 'app_shop_feed' ? ' active' : '' }}" href="{{ path('app_shop_feed') }}">
                    Dashboard
                </a>
            </li>
            {% endif %}
            <li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') == 'app_shop_library' ? ' active' : '' }}" href="{{ path('app_shop_library') }}">
                    Library
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') == 'app_shop_doc' ? ' active' : '' }}" href="{{ path('app_shop_doc') }}">
                    Docs
                </a>
            </li>
            {% if app.user and is_granted('ROLE_USER') %}
            <li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') == 'app_shop_settings' ? ' active' : '' }}" href="{{ path('app_shop_settings') }}">
                    Settings
                </a>
            </li>
            {% endif %}
            {% if app.user and is_granted('ROLE_SUPER_ADMIN') %}
            <li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') == 'app_shop_admin' ? ' active' : '' }}" href="{{ path('app_shop_admin') }}">
                    Admin
                </a>
            </li>}
            {% endif #}
            <li class="nav-item">
                <a class="nav-link{{ app.request.get('_route') starts with 'app_shop_blog' ? ' active' : '' }}" href="{{ path('app_shop_blog') }}">
                    Blog
                </a>
            </li>
        </ul>
    </div>

    <!-- Right Side Navigation -->
    <ul class="navbar-nav flex-row ms-auto">
        <li class="nav-item">
            <a class="nav-item nav-link{{ app.request.get('_route') == 'app_shop_changelog' ? ' active' : '' }}" href="{{ path('app_shop_changelog') }}">
                {{ display_version() }}
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="https://github.com/darkwood-fr/darkwaar" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                <twig:ux:icon name="bi:github" class="svg-inline--fa" />
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/darkwaar" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
                <twig:ux:icon name="bi:twitter" class="svg-inline--fa" />
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="#" aria-label="Theme" id="theme-switcher">
                <span id="theme-icon">
                    <!-- Theme icon will be inserted by JavaScript -->
                </span>
            </a>
        </li>
        {# if not app.user %}
        <li class="nav-item">
            <a class="nav-link{{ app.request.get('_route') == 'app_shop_login' ? ' active' : '' }}" href="{{ path('app_shop_login') }}">
                Login
            </a>
        </li>
        {% endif %}
        {% if app.user and is_granted('ROLE_USER') %}
        <li class="nav-item">
            <a class="nav-link" href="{{ path('sylius_shop_logout') }}">
                <twig:ux:icon name="hugeicons:logout-04" class="svg-inline--fa" />
            </a>
        </li>
        {% endif #}
    </ul>
</header>

<!-- Mobile Bottom Navigation -->
<ul class="nav nav-bar-bottom fixed-bottom justify-content-center d-flex d-md-none">
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') == 'app_shop_flows' ? ' active' : '' }}" href="{{ path('app_shop_flows') }}">
            Games
        </a>
    </li>
    {% if app.user and is_granted('ROLE_USER') %}
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') == 'app_shop_feed' ? ' active' : '' }}" href="{{ path('app_shop_feed') }}">
            Dashboard
        </a>
    </li>
    {% endif %}
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') == 'app_shop_library' ? ' active' : '' }}" href="{{ path('app_shop_library') }}">
            Library
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') == 'app_shop_doc' ? ' active' : '' }}" href="{{ path('app_shop_doc') }}">
            Docs
        </a>
    </li>
    {% if app.user and is_granted('ROLE_USER') %}
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') == 'app_shop_settings' ? ' active' : '' }}" href="{{ path('app_shop_settings') }}">
            Settings
        </a>
    </li>
    {% endif %}
    {% if app.user and is_granted('ROLE_SUPER_ADMIN') %}
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') == 'app_shop_admin' ? ' active' : '' }}" href="{{ path('app_shop_admin') }}">
            Admin
        </a>
    </li>
    {% endif %}
    <li class="nav-item">
        <a class="nav-link{{ app.request.get('_route') starts with 'app_shop_blog' ? ' active' : '' }}" href="{{ path('app_shop_blog') }}">
            Blog
        </a>
    </li>
</ul>
